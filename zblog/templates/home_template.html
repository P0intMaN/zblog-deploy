{% extends "base_template.html" %}

{% block content %}
<!-- landing begins -->
<div class="container main-content mb-5">
    <div class="row">
        <!-- left side contents -->

        <!-- latest blog -->
        <div class="col-md-12 col-lg-8">
            <div class="sidebar-module sidebar-module-inset bg-white border">
                <h4 class="h6 fw-bold d-inline-block alert alert-dark rounded p-2">Most Recent Post</h4>

                <!-- blog card -->
                <div class="card border-0">
                    <a href="#">
                        <div class="embed-responsive embed-responsive-16by9">
                            <img src="../static/img/Screenshot (86).png" alt="" width="1920" height="1080" style="object-fit: contain;" class="embed-responsive-item">
                        </div>
                    </a>

                    <!-- card contents -->
                    <div class="card-body m-0 p-0 pt-3">
                        <!-- title -->
                        <a href="{{ url_for('blog', url_slug=latest_post.meta.url) }}">
                            <h2 class="fw-bold card-title h1 my-0 py-0"> {{ latest_post.title }}</h2>
                        </a>

                        <!-- tags -->
                        <small>
                            {% for tag in latest_post.tags_associated %}
                            <a href="{{ url_for('tag',tagname=tag.tag_name) }}" class="badge blue-bg-secondary">{{ tag.tag_name }}</a>
                            {% endfor %}
                        </small>

                        <!-- card meta -->
                        <div class="d-flex align-items-center">
                            <!-- like counter -->
                            <p class="pt-2 mb-0">
                                <span class="me-1">
                                    <i class="bi bi-hand-thumbs-up-fill icon-like pr-3"></i>
                                </span>
                                
                                <span class="me-0.5">
                                    <small style="font-weight: 600;">{{latest_post.meta.likes}}</small>
                                </span>

                                <span class="me-2">
                                    <small>Likes</small>
                                </span>
                            </p>

                            <p class="pt-2 mb-0 text-muted ms-auto h6">{{latest_post.post_date.strftime('%d %B, %Y')}}</p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- latest blog ends -->
        <!-- left side contents  end -->

        <!-- right side sidebar -->
        <div class="col-12 col-lg-4">
            <div class="row">
                <!-- explore topics -->
                <div class="col-12">
                    <div class="sidebar-module sidebar-module-inset border secondary-bg">
                        <p class="h4 mb-3">
                            Explore Topics ðŸ§­
                        </p>

                        {% for tag in tags %}
                        <a href="{{url_for('tag', tagname=tag.tag_name)}}" class="badge blue-bg-secondary">{{tag.tag_name}}</a>
                        {% endfor %}

                    </div>
                </div>

                <!-- popular posts -->
                <div class="col-12">
                    <div class="sidebar-module sidebar-module-inset secondary-bg border">
                        <h4 class="mb-3">Most Popular Posts ðŸ”¥</h4>
                        {% for p in popular_posts %}
                        <div class="sidebar-item">
                            <h6 class="ms-2 my-0 py-2 text-capitalize text-muted"><a href="{{url_for('blog', url_slug=p.url)}}">{{p.post.title}}</a></h6>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Join Us -->
                <div class="col-12">
                    <div class="sidebar-module sidebar-module-inset alert alert-dark">
                        <h4 class="text-center text-capitalize mb-0"><a href="#" class="alert-link"> loads of contents ðŸ¤™</a></h4>
                        <h6 class="text-center">Can't decide where to begin? Well, I recommend you to read my first blog then! <a href="{{url_for('blog', url_slug=first_post.meta.url)}}" class="alert-link" style="text-decoration: underline;">Start here.</a></h6>
                    </div>
                </div>

            </div>
        </div>
        <!-- right side sidebar end -->

        <!-- previous posts begin -->
        {% for post in posts %}
        <div class="col-md-12 col-lg-8">
            <div class="sidebar-module sidebar-module-inset bg-white border">
                <!-- card contents -->
                <div class="card-body m-0 p-0">
                    <a href="{{url_for('blog', url_slug=post.meta.url)}}">
                        <h2 class="h2 fw-bold card-title h1 my-0 py-0 text-capitalize">{{post.title}}</h2>
                    </a>

                    <!-- tags -->
                    <small>
                        {% for tag in post.tags_associated %}
                        <a href="{{url_for('tag', tagname=tag.tag_name)}}" class="badge blue-bg-secondary">{{tag.tag_name}}</a>
                        {% endfor %}
                    </small>

                    <!-- card meta -->
                    <div class="d-flex align-items-center">
                        <!-- like counter -->
                        <p class="pt-2 mb-0">
                            <span class="me-1">
                                <i class="bi bi-hand-thumbs-up-fill icon-like pr-3"></i>
                            </span>
                            
                            <span class="me-0.5">
                                <small style="font-weight: 600;">{{post.meta.likes}}</small>
                            </span>

                            <span class="me-2">
                                <small>Likes</small>
                            </span>
                        </p>

                        <p class="pt-2 mb-0 text-muted ms-auto h6">{{post.post_date.strftime('%d %B, %Y')}}</p>
                    </div>  
                </div>
            </div>
        </div>
        {% endfor %}
        <!-- previous posts ends -->
    </div>
</div>
<!-- landing ends -->
{% endblock %}
